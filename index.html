<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WealthPlanner v18</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-font-smoothing: antialiased; }
        input[type="range"] { accent-color: #10b981; }
        .glass-panel { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="bg-[#F8FAFC] text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect, useRef } = React;

        /**
         * FIXED Icon component:
         * Lucide's createIcons() replaces <i> with <svg>, which breaks React's reconciliation
         * because React expects to find the <i> element it rendered.
         * Using a dedicated span and ref with innerHTML prevents React from tracking the internal svg.
         */
        const Icon = ({ name, size = 18, className = "" }) => {
            const containerRef = useRef(null);

            useEffect(() => {
                if (window.lucide && containerRef.current) {
                    // Reset container to a clean <i> tag for Lucide to process
                    const lucideName = name.toLowerCase().replace(/([a-z])([A-Z])/g, '$1-$2');
                    containerRef.current.innerHTML = `<i data-lucide="${lucideName}" style="width: ${size}px; height: ${size}px;" class="${className}"></i>`;
                    window.lucide.createIcons({
                        attrs: {
                            class: className
                        },
                        nameAttr: 'data-lucide',
                        icons: window.lucide.icons
                    });
                }
            }, [name, size, className]);

            return <span ref={containerRef} className="inline-flex items-center justify-center" style={{ width: size, height: size }}></span>;
        };

        const STANDARD_DEDUCTION = 14600; // 2024 single
        const FICA_SS_RATE = 0.062;
        const FICA_MED_RATE = 0.0145;

        const STATE_TAX_RATES = {
            "Alabama": 5.0, "Alaska": 0.0, "Arizona": 2.5, "Arkansas": 4.4, "California": 9.3,
            "Colorado": 4.4, "Connecticut": 5.0, "Delaware": 6.6, "Florida": 0.0, "Georgia": 5.49,
            "Hawaii": 8.25, "Idaho": 5.8, "Illinois": 4.95, "Indiana": 3.05, "Iowa": 6.0,
            "Kansas": 5.7, "Kentucky": 4.0, "Louisiana": 4.25, "Maine": 7.15, "Maryland": 4.75,
            "Massachusetts": 5.0, "Michigan": 4.25, "Minnesota": 7.05, "Mississippi": 5.0, "Missouri": 4.8,
            "Montana": 5.9, "Nebraska": 5.84, "Nevada": 0.0, "New Hampshire": 0.0, "New Jersey": 6.37,
            "New Mexico": 5.9, "New York": 6.0, "North Carolina": 4.5, "North Dakota": 2.1, "Ohio": 3.5,
            "Oklahoma": 4.75, "Oregon": 8.75, "Pennsylvania": 3.07, "Rhode Island": 4.75, "South Carolina": 6.4,
            "South Dakota": 0.0, "Tennessee": 0.0, "Texas": 0.0, "Utah": 4.65, "Vermont": 6.0,
            "Virginia": 5.75, "Washington": 0.0, "West Virginia": 5.12, "Wisconsin": 5.3, "Wyoming": 0.0,
            "Washington D.C.": 8.5
        };

        const FEDERAL_BRACKETS = [
            { rate: 0.10, min: 0, max: 11600 },
            { rate: 0.12, min: 11600, max: 47150 },
            { rate: 0.22, min: 47150, max: 100525 },
            { rate: 0.24, min: 100525, max: 191950 },
            { rate: 0.32, min: 191950, max: 243725 },
            { rate: 0.35, min: 243725, max: 609350 },
            { rate: 0.37, min: 609350, max: Infinity },
        ];

        function App() {
            const [activeTab, setActiveTab] = useState('start');
            
            // Global Input State
            const [annualSalary, setAnnualSalary] = useState(75000);
            const [selectedState, setSelectedState] = useState("California");
            const [ageToday, setAgeToday] = useState(25);
            const [stopAge, setStopAge] = useState(60);
            
            // Employer Match Settings
            const [matchTier1Rate, setMatchTier1Rate] = useState(100); 
            const [matchTier1Limit, setMatchTier1Limit] = useState(3);  
            const [matchTier2Rate, setMatchTier2Rate] = useState(50);  
            const [matchTier2Limit, setMatchTier2Limit] = useState(2);  
            
            // Contribution State
            const [user401kContribution, setUser401kContribution] = useState(6);
            const [rothIraAnnual, setRothIraAnnual] = useState(2400); 
            
            // Sandbox State
            const [sbSalary, setSbSalary] = useState(75000);
            const [sb401kRate, setSb401kRate] = useState(6);
            const [sbRothMonthly, setSbRothMonthly] = useState(200);
            const [sbReturn, setSbReturn] = useState(7);
            const [sbAgeToday, setSbAgeToday] = useState(25);
            const [sbContributeUntil, setSbContributeUntil] = useState(60);
            const [sbRetirementAge, setSbRetirementAge] = useState(65);

            // Sync Sandbox with Inputs when they change
            useEffect(() => {
                setSbSalary(annualSalary);
                setSb401kRate(user401kContribution);
                setSbRothMonthly(Math.round(rothIraAnnual / 12));
                setSbAgeToday(ageToday);
                setSbContributeUntil(stopAge);
            }, [annualSalary, user401kContribution, rothIraAnnual, ageToday, stopAge]);

            const [expenses, setExpenses] = useState([
                { id: 1, label: "Rent / Mortgage", value: 1800, icon: "landmark" },
                { id: 2, label: "Food & Groceries", value: 500, icon: "shopping-cart" },
                { id: 3, label: "Health Insurance", value: 300, icon: "heart-pulse" },
                { id: 4, label: "Utilities & Subs", value: 200, icon: "zap" },
                { id: 5, label: "Transportation", value: 300, icon: "car" },
            ]);

            const addExpense = () => setExpenses([...expenses, { id: Date.now(), label: "New Expense", value: 0, icon: "receipt" }]);
            const removeExpense = (id) => setExpenses(expenses.filter(e => e.id !== id));

            const calculations = useMemo(() => {
                const monthlyGross = annualSalary / 12;
                const monthly401k = (user401kContribution / 100) * monthlyGross;
                const rothIraMonthly = rothIraAnnual / 12;
                
                const getMatchAmount = (salary, contribution) => {
                    const mGross = salary / 12;
                    let matchAmount = 0;
                    const tier1Applied = Math.min(contribution, matchTier1Limit);
                    matchAmount += (tier1Applied / 100) * mGross * (matchTier1Rate / 100);
                    if (contribution > matchTier1Limit) {
                        const tier2Applied = Math.min(contribution - matchTier1Limit, matchTier2Limit);
                        matchAmount += (tier2Applied / 100) * mGross * (matchTier2Rate / 100);
                    }
                    return matchAmount;
                };

                const monthlyMatch = getMatchAmount(annualSalary, user401kContribution);
                const taxableFederalAnnual = Math.max(0, (annualSalary - (monthly401k * 12)) - STANDARD_DEDUCTION);
                
                let fedTaxAnnual = 0;
                FEDERAL_BRACKETS.forEach(bracket => {
                    if (taxableFederalAnnual > bracket.min) {
                        const taxableInBracket = Math.min(taxableFederalAnnual, bracket.max) - bracket.min;
                        fedTaxAnnual += taxableInBracket * bracket.rate;
                    }
                });

                const monthlyFedTax = fedTaxAnnual / 12;
                const monthlyFICA = (monthlyGross * FICA_SS_RATE) + (monthlyGross * FICA_MED_RATE);
                const stateTaxRate = STATE_TAX_RATES[selectedState] || 0;
                const monthlyStateTax = ((monthlyGross - monthly401k) * (stateTaxRate / 100));
                
                const monthlyTakeHome = monthlyGross - monthlyFedTax - monthlyFICA - monthlyStateTax - monthly401k;
                const totalExpenses = expenses.reduce((sum, exp) => sum + exp.value, 0);
                const surplus = monthlyTakeHome - rothIraMonthly - totalExpenses;

                // Simple Historical Estimate
                const calculateTerminalBalance = (rate) => {
                    const monthlyInv = monthly401k + monthlyMatch + rothIraMonthly;
                    let balance = 0;
                    const totalMonths = (stopAge - ageToday) * 12;
                    if (totalMonths <= 0) return 0;
                    for (let m = 0; m < totalMonths; m++) {
                        balance = (balance + monthlyInv) * (1 + (rate / 12));
                    }
                    return balance;
                };

                // Advanced Sandbox Calculation
                const runSandbox = () => {
                    const mGross = sbSalary / 12;
                    const m401k = (sb401kRate / 100) * mGross;
                    const mMatch = getMatchAmount(sbSalary, sb401kRate);
                    const monthlyTotal = m401k + mMatch + sbRothMonthly;
                    
                    let balance = 0;
                    const totalMonths = Math.max(0, (sbRetirementAge - sbAgeToday) * 12);
                    const stopContributionMonths = Math.max(0, (sbContributeUntil - sbAgeToday) * 12);
                    
                    for (let m = 0; m < totalMonths; m++) {
                        const contribution = (m < stopContributionMonths) ? monthlyTotal : 0;
                        balance = (balance + contribution) * (1 + ((sbReturn / 100) / 12));
                    }
                    return balance;
                };

                return { 
                    monthlyTakeHome, surplus, monthlyMatch, monthly401k, totalExpenses, rothIraMonthly,
                    terminalBalanceHistorical: calculateTerminalBalance(0.07),
                    sandboxTotal: runSandbox()
                };
            }, [annualSalary, user401kContribution, selectedState, expenses, rothIraAnnual, matchTier1Rate, matchTier1Limit, matchTier2Rate, matchTier2Limit, ageToday, stopAge, sbReturn, sbRothMonthly, sbSalary, sb401kRate, sbContributeUntil, sbRetirementAge, sbAgeToday]);

            const tabs = ['start', 'investing', 'budget', 'analysis'];
            const currentIdx = tabs.indexOf(activeTab);

            return (
                <div className="min-h-screen pb-40">
                    <nav className="bg-white border-b border-slate-200 px-6 py-5 flex items-center justify-between sticky top-0 z-50 shadow-sm">
                        <div className="flex items-center gap-3">
                            <div className="bg-emerald-600 p-2.5 rounded-xl shadow-lg shadow-emerald-100 flex items-center justify-center">
                                <Icon name="trending-up" className="text-white" size={20} />
                            </div>
                            <div>
                                <span className="font-black text-xl tracking-tighter text-slate-800 uppercase italic leading-none block">WealthPlanner</span>
                                <span className="text-[10px] font-black text-emerald-500 uppercase tracking-widest leading-none">v18.0.2</span>
                            </div>
                        </div>
                        <div className="text-right">
                            <span className="text-[10px] font-black text-slate-400 block uppercase tracking-widest mb-0.5">Monthly Surplus</span>
                            <span className={`font-black text-xl ${calculations.surplus >= 0 ? 'text-emerald-600' : 'text-rose-600'}`}>
                                ${Math.round(calculations.surplus).toLocaleString()}
                            </span>
                        </div>
                    </nav>

                    <main className="max-w-xl mx-auto px-4 mt-8">
                        <div className="flex gap-1.5 mb-8 bg-slate-200/50 p-1.5 rounded-2xl">
                            {tabs.map((tab) => (
                                <button
                                    key={tab}
                                    onClick={() => setActiveTab(tab)}
                                    className={`flex-1 py-3 rounded-xl font-black text-[11px] transition-all uppercase tracking-widest ${
                                        activeTab === tab ? 'bg-white text-emerald-600 shadow-md scale-[1.02]' : 'text-slate-500 hover:text-slate-700'
                                    }`}
                                >
                                    {tab}
                                </button>
                            ))}
                        </div>

                        {activeTab === 'start' && (
                            <section className="bg-white rounded-[2.5rem] p-10 shadow-sm border border-slate-200 space-y-8">
                                <h2 className="text-xl font-black flex items-center gap-3 uppercase tracking-tight text-slate-800">
                                    <Icon name="user-circle" className="text-emerald-600" /> Basic Profile
                                </h2>
                                <div className="grid grid-cols-2 gap-6">
                                    <div>
                                        <label className="text-[11px] font-black text-slate-400 uppercase tracking-widest mb-3 block">Age Today</label>
                                        <input type="number" className="w-full bg-slate-50 p-4 rounded-2xl border border-slate-100 font-black text-2xl outline-none focus:ring-2 ring-emerald-500/20" value={ageToday} onChange={(e) => setAgeToday(Number(e.target.value))} />
                                    </div>
                                    <div>
                                        <label className="text-[11px] font-black text-slate-400 uppercase tracking-widest mb-3 block">Tax State</label>
                                        <select className="w-full bg-slate-50 p-4 rounded-2xl border border-slate-100 font-bold text-base outline-none appearance-none" value={selectedState} onChange={(e) => setSelectedState(e.target.value)}>
                                            {Object.keys(STATE_TAX_RATES).map(s => <option key={s} value={s}>{s}</option>)}
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <label className="text-[11px] font-black text-slate-400 uppercase tracking-widest mb-3 block">Annual Salary (Gross)</label>
                                    <div className="flex items-center bg-slate-50 p-6 rounded-2xl border border-slate-100 focus-within:ring-2 ring-emerald-500/20">
                                        <span className="text-3xl font-black text-slate-300 mr-3">$</span>
                                        <input type="number" className="bg-transparent text-3xl font-black outline-none w-full" value={annualSalary} onChange={(e) => setAnnualSalary(Number(e.target.value))} />
                                    </div>
                                </div>
                            </section>
                        )}

                        {activeTab === 'investing' && (
                            <div className="space-y-6">
                                <section className="bg-emerald-950 rounded-[3rem] p-10 text-white shadow-2xl relative overflow-hidden">
                                    <div className="absolute top-0 right-0 w-32 h-32 bg-emerald-500/10 blur-[60px]"></div>
                                    <div className="flex justify-between items-end mb-6">
                                        <h3 className="text-emerald-400 font-black text-lg uppercase tracking-wider">401k Pre-Tax</h3>
                                        <span className="text-6xl font-black leading-none">{user401kContribution}%</span>
                                    </div>
                                    <input type="range" min="0" max="30" className="w-full h-2.5 bg-emerald-900 rounded-lg appearance-none cursor-pointer mb-10 accent-white" value={user401kContribution} onChange={(e) => setUser401kContribution(Number(e.target.value))} />
                                    <div className="grid grid-cols-2 gap-8 border-t border-emerald-900/50 pt-8">
                                        <div>
                                            <span className="text-[11px] text-emerald-600 uppercase font-black block mb-1">Monthly Cost</span>
                                            <span className="text-2xl font-bold">${Math.round(calculations.monthly401k).toLocaleString()}</span>
                                        </div>
                                        <div>
                                            <span className="text-[11px] text-emerald-600 uppercase font-black block mb-1">Company Match</span>
                                            <span className="text-2xl font-bold text-emerald-400">+${Math.round(calculations.monthlyMatch).toLocaleString()}</span>
                                        </div>
                                    </div>
                                </section>
                                
                                <section className="bg-white rounded-[3rem] p-10 border border-slate-200 shadow-sm">
                                    <div className="flex justify-between items-end mb-6">
                                        <h3 className="text-slate-800 font-black text-lg uppercase tracking-wider">Roth IRA Annual</h3>
                                        <span className="text-5xl font-black text-emerald-600 leading-none">${rothIraAnnual.toLocaleString()}</span>
                                    </div>
                                    <input type="range" min="0" max="7000" step="100" className="w-full h-2.5 bg-slate-100 rounded-lg appearance-none cursor-pointer mb-10" value={rothIraAnnual} onChange={(e) => setRothIraAnnual(Number(e.target.value))} />
                                    <div className="flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100">
                                        <div className="flex items-center gap-3">
                                            <Icon name="calendar" className="text-slate-400" />
                                            <div>
                                                <span className="text-[10px] font-black uppercase text-slate-400 block">Per Month</span>
                                                <span className="font-bold text-slate-700">${Math.round(calculations.rothIraMonthly).toLocaleString()}</span>
                                            </div>
                                        </div>
                                        <button onClick={() => setRothIraAnnual(7000)} className="bg-emerald-600 text-white px-4 py-2 rounded-xl font-black text-[10px] uppercase shadow-md shadow-emerald-100">MAX OUT</button>
                                    </div>
                                </section>
                            </div>
                        )}

                        {activeTab === 'budget' && (
                            <div className="space-y-6">
                                <section className="bg-white rounded-[2.5rem] p-8 border border-slate-200 shadow-sm">
                                    <div className="flex justify-between items-center mb-8">
                                        <h2 className="text-xl font-black uppercase tracking-tight text-slate-800">Monthly Expenses</h2>
                                        <button onClick={addExpense} className="w-10 h-10 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center hover:bg-emerald-100 transition-colors">
                                            <Icon name="plus" size={20}/>
                                        </button>
                                    </div>
                                    <div className="space-y-3">
                                        {expenses.map((expense) => (
                                            <div key={expense.id} className="flex items-center gap-4 bg-slate-50 p-5 rounded-2xl border border-slate-100 group transition-all hover:bg-white hover:shadow-md">
                                                <div className="p-3 bg-white rounded-xl text-slate-400 shadow-sm">
                                                    <Icon name={expense.icon} size={20} />
                                                </div>
                                                <div className="flex-1">
                                                    <input className="bg-transparent font-bold text-slate-800 text-base outline-none w-full" value={expense.label} onChange={(e) => {
                                                        const newExp = [...expenses];
                                                        newExp.find(ex => ex.id === expense.id).label = e.target.value;
                                                        setExpenses(newExp);
                                                    }} />
                                                    <div className="flex items-center text-emerald-600">
                                                        <span className="text-xs font-black mr-1">$</span>
                                                        <input type="number" className="bg-transparent text-sm font-black outline-none w-full" value={expense.value} onChange={(e) => {
                                                            const newExp = [...expenses];
                                                            newExp.find(ex => ex.id === expense.id).value = Number(e.target.value);
                                                            setExpenses(newExp);
                                                        }} />
                                                    </div>
                                                </div>
                                                <button onClick={() => removeExpense(expense.id)} className="text-slate-300 hover:text-rose-500 p-2 transition-colors">
                                                    <Icon name="x-circle" size={20} />
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="mt-8 pt-8 border-t border-slate-100 flex justify-between items-center">
                                        <span className="font-black text-slate-400 text-xs uppercase tracking-widest">Total Expenses</span>
                                        <span className="font-black text-2xl text-slate-800 italic">${calculations.totalExpenses.toLocaleString()}</span>
                                    </div>
                                </section>
                            </div>
                        )}

                        {activeTab === 'analysis' && (
                            <div className="space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500">
                                {/* Hero Projection */}
                                <section className="bg-emerald-600 rounded-[3rem] p-12 text-white shadow-2xl text-center relative overflow-hidden">
                                    <div className="absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none">
                                        <svg viewBox="0 0 100 100" className="w-full h-full"><path d="M0,80 Q25,20 50,70 T100,30" fill="none" stroke="white" strokeWidth="2"/></svg>
                                    </div>
                                    <h3 className="text-xs font-black uppercase tracking-[0.3em] text-emerald-200 mb-6">Core Retirement Forecast</h3>
                                    <div className="text-6xl font-black mb-4 tracking-tighter tabular-nums drop-shadow-lg">
                                        ${Math.round(calculations.terminalBalanceHistorical).toLocaleString()}
                                    </div>
                                    <div className="inline-flex items-center gap-2 bg-emerald-700/50 px-5 py-2 rounded-full border border-emerald-400/20">
                                        <Icon name="info" size={14} className="text-emerald-300" />
                                        <span className="text-[10px] font-black uppercase tracking-widest text-emerald-100">7% Return â€¢ Age {stopAge}</span>
                                    </div>
                                </section>
                                
                                {/* Projection Sandbox */}
                                <section className="bg-slate-950 rounded-[3rem] p-10 text-white shadow-2xl">
                                    <div className="flex items-center gap-3 mb-10">
                                        <div className="bg-emerald-500 p-2 rounded-lg">
                                            <Icon name="flask-conical" size={20} className="text-white" />
                                        </div>
                                        <h3 className="text-xl font-black uppercase italic tracking-tight">Projection Sandbox</h3>
                                    </div>

                                    <div className="space-y-10">
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                            <div className="space-y-4">
                                                <div className="flex justify-between items-center">
                                                    <label className="text-[11px] font-black text-slate-500 uppercase tracking-widest">Return Rate</label>
                                                    <span className="text-emerald-400 font-black text-lg">{sbReturn}%</span>
                                                </div>
                                                <input type="range" min="1" max="15" step="0.5" className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500" value={sbReturn} onChange={(e) => setSbReturn(Number(e.target.value))} />
                                            </div>

                                            <div className="space-y-4">
                                                <div className="flex justify-between items-center">
                                                    <label className="text-[11px] font-black text-slate-500 uppercase tracking-widest">Contribute Til Age</label>
                                                    <span className="text-emerald-400 font-black text-lg">{sbContributeUntil}</span>
                                                </div>
                                                <input type="range" min={sbAgeToday} max="80" className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500" value={sbContributeUntil} onChange={(e) => setSbContributeUntil(Number(e.target.value))} />
                                            </div>

                                            <div className="space-y-4">
                                                <div className="flex justify-between items-center">
                                                    <label className="text-[11px] font-black text-slate-500 uppercase tracking-widest">Withdraw Age</label>
                                                    <span className="text-emerald-400 font-black text-lg">{sbRetirementAge}</span>
                                                </div>
                                                <input type="range" min={sbContributeUntil} max="100" className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500" value={sbRetirementAge} onChange={(e) => setSbRetirementAge(Number(e.target.value))} />
                                            </div>

                                            <div className="space-y-4">
                                                <div className="flex justify-between items-center">
                                                    <label className="text-[11px] font-black text-slate-500 uppercase tracking-widest">Sandbox Salary</label>
                                                    <span className="text-emerald-400 font-black text-lg">${Math.round(sbSalary/1000)}k</span>
                                                </div>
                                                <input type="range" min="20000" max="500000" step="5000" className="w-full h-2 bg-slate-800 rounded-lg appearance-none cursor-pointer accent-emerald-500" value={sbSalary} onChange={(e) => setSbSalary(Number(e.target.value))} />
                                            </div>
                                        </div>

                                        <div className="bg-white/5 rounded-[2.5rem] p-10 border border-white/10 text-center backdrop-blur-sm relative overflow-hidden">
                                            <div className="absolute inset-0 bg-emerald-500/5 opacity-20 pointer-events-none"></div>
                                            <span className="text-[10px] font-black text-slate-500 uppercase tracking-[0.4em] block mb-2">Simulated Balance</span>
                                            <div className="text-6xl font-black text-white tracking-tighter mb-4">
                                                ${Math.round(calculations.sandboxTotal).toLocaleString()}
                                            </div>
                                            <div className="flex justify-center gap-6 mt-6">
                                                <div className="flex items-center gap-2">
                                                    <div className="w-2 h-2 rounded-full bg-emerald-500"></div>
                                                    <span className="text-[10px] font-bold text-slate-400 uppercase tracking-widest">Growth Compound Active</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        )}
                    </main>

                    {/* Fixed Footer Nav */}
                    <div className="fixed bottom-10 left-0 right-0 px-6 flex justify-center z-50 pointer-events-none">
                        <div className="bg-white/90 backdrop-blur-2xl border border-slate-200 p-2.5 rounded-[2rem] shadow-2xl flex gap-3 pointer-events-auto max-w-sm w-full">
                            {currentIdx > 0 && (
                                <button onClick={() => setActiveTab(tabs[currentIdx - 1])} className="w-16 h-16 bg-slate-100 text-slate-600 rounded-[1.4rem] flex items-center justify-center hover:bg-slate-200 transition-colors">
                                    <Icon name="chevron-left" size={24} />
                                </button>
                            )}
                            <button 
                                onClick={() => setActiveTab(tabs[Math.min(currentIdx + 1, tabs.length - 1)])}
                                className={`flex-1 flex items-center justify-center gap-3 h-16 rounded-[1.4rem] font-black uppercase tracking-[0.2em] text-xs transition-all ${
                                    currentIdx === tabs.length - 1 ? 'bg-slate-100 text-slate-400' : 'bg-emerald-600 text-white shadow-xl shadow-emerald-200'
                                }`}
                            >
                                {currentIdx === tabs.length - 1 ? "End of Flow" : "Continue"}
                                {currentIdx < tabs.length - 1 && <Icon name="chevron-right" size={16} />}
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
